/***
 * Multi Select Group Component:
 * Author: Halil Nuroğlu
 */

 /**
 * Multi Select Group:
 * `.c-multi-select-group` 3 farklı grupta çalışıyor. 4'den fazlası Diğer altında toplanıyor. Diğer menüsü `context-menu-selectable` componentini kullanarak listeleniyor.
 *
 *     @example
 *     <div class="c-multi-select-group">
 *     		
 *     	<ul class="c-multi-select-group__container">
 *     		<li class="c-multi-select-group__item">
 *     			<a href="#">
 *     				<div class="c-multi-select-group__item__icon">	
 *     					<div class="c-promise-icon c-promise-icon--md">
 *     						<div class="c-promise-icon__before">
 *     							<i class="icon__n icon__n--audiotrack"></i>
 *     						</div>
 *     						<div class="c-promise-icon__spinner c-promise-icon__spinner--sm">
 *     							<div class="c-promise-icon__spinner-blade"></div>
 *     							<div class="c-promise-icon__spinner-blade"></div>
 *     							<div class="c-promise-icon__spinner-blade"></div>
 *     							<div class="c-promise-icon__spinner-blade"></div>
 *     							<div class="c-promise-icon__spinner-blade"></div>
 *     							<div class="c-promise-icon__spinner-blade"></div>
 *     							<div class="c-promise-icon__spinner-blade"></div>
 *     							<div class="c-promise-icon__spinner-blade"></div>
 *     							<div class="c-promise-icon__spinner-blade"></div>
 *     							<div class="c-promise-icon__spinner-blade"></div>
 *     							<div class="c-promise-icon__spinner-blade"></div>
 *     							<div class="c-promise-icon__spinner-blade"></div>
 *     						</div>
 *     					</div>
 *     				</div>
 *     				<span class="c-multi-select-group__item--name">Müzisyen</span>
 *     			</a>
 *				</li>
 *				<li class="c-multi-select-group__item">
 *					<a href="#">
 *						<div class="c-multi-select-group__item__icon">	
 *							<div class="c-promise-icon c-promise-icon--md">
 *								<div class="c-promise-icon__before">
 *									<i class="icon__n icon__n--movie"></i>
 *								</div>
 *								<div class="c-promise-icon__spinner c-promise-icon__spinner--sm">
 *									<div class="c-promise-icon__spinner-blade"></div>
 *									<div class="c-promise-icon__spinner-blade"></div>
 *									<div class="c-promise-icon__spinner-blade"></div>
 *									<div class="c-promise-icon__spinner-blade"></div>
 *									<div class="c-promise-icon__spinner-blade"></div>
 *									<div class="c-promise-icon__spinner-blade"></div>
 *									<div class="c-promise-icon__spinner-blade"></div>
 *									<div class="c-promise-icon__spinner-blade"></div>
 *									<div class="c-promise-icon__spinner-blade"></div>
 *									<div class="c-promise-icon__spinner-blade"></div>
 *									<div class="c-promise-icon__spinner-blade"></div>
 *									<div class="c-promise-icon__spinner-blade"></div>
 *								</div>
 *							</div>
 *						</div>
 *						<span class="c-multi-select-group__item--name">Oyuncu</span>
 *					</a>
 *				</li>
 *				<li class="c-multi-select-group__item">
 *					<a href="#">
 *						<div class="c-multi-select-group__item__icon">	
 *							<div class="c-promise-icon c-promise-icon--md">
 *								<div class="c-promise-icon__before">
 *									<i class="icon__n icon__n--directions_run"></i>
 *								</div>
 *								<div class="c-promise-icon__spinner c-promise-icon__spinner--sm">
 *									<div class="c-promise-icon__spinner-blade"></div>
 *									<div class="c-promise-icon__spinner-blade"></div>
 *									<div class="c-promise-icon__spinner-blade"></div>
 *									<div class="c-promise-icon__spinner-blade"></div>
 *									<div class="c-promise-icon__spinner-blade"></div>
 *									<div class="c-promise-icon__spinner-blade"></div>
 *									<div class="c-promise-icon__spinner-blade"></div>
 *									<div class="c-promise-icon__spinner-blade"></div>
 *									<div class="c-promise-icon__spinner-blade"></div>
 *									<div class="c-promise-icon__spinner-blade"></div>
 *									<div class="c-promise-icon__spinner-blade"></div>
 *									<div class="c-promise-icon__spinner-blade"></div>
 *								</div>
 *							</div>
 *						</div>
 *						<span class="c-multi-select-group__item--name">Sporcu</span>
 *					</a>
 *				</li>
 * 				<li class="c-multi-select-group__item c-multi-select-group__item--other c-multi-select-group__item--other--selected-badge">
 *					<a href="#">
 *						<i class="c-multi-select-group__item__icon">2</i>
 *						<span class="c-multi-select-group__item--name">Diğer (2)</span>
 *					</a>
 *
 *					<div class="c-context-menu-selectable">
 *
 *						<div class="c-context-menu-selectable__header">
 *							<div class="c-context-menu-selectable__header-title">
 *								DİĞER İÇERİKLER
 *							</div>
 *							<i class="c-context-menu-selectable__close-button icon--m">close</i>
 *						</div>
 *
 *						<div class="c-context-menu-selectable__content">
 *
 *							<ul class="c-context-menu-selectable__list">
 *								<li class="c-context-menu-selectable__list-item">
 *									<i class="c-context-menu-selectable__list-item-icon icon__n icon__n--insert_comment"></i>
 *									<span class="c-context-menu-selectable__list-item-label">Konuşmacı</span>
 *									<i class="c-context-menu-selectable__list-item-control">
 *										<i class="icon__n icon__n--add"></i>
 *										<i class="icon__n icon__n--check"></i>
 *										<i class="icon__n icon__n--remove"></i>
 *									</i>
 *								</li>
 *								<li class="c-context-menu-selectable__list-item c-context-menu-selectable__list-item--added">
 *									<i class="c-context-menu-selectable__list-item-icon icon__n icon__n--room_service"></i>
 *									<span class="c-context-menu-selectable__list-item-label">Şef</span>
 *									<i class="c-context-menu-selectable__list-item-control">
 *										<i class="icon__n icon__n--add"></i>
 *										<i class="icon__n icon__n--check"></i>
 *										<i class="icon__n icon__n--remove"></i>
 *									</i>
 *								</li>
 *							</ul>
 *
 *						</div>
 *						
 *					</div>
 *					<!--end c-context-menu-selectable-->
 *
 *				</li>
 *			</ul>
 *		</div>
 */

// Set defaults
$c-multi-select-group: (
  width: 75px,
  height: 65px,
  border-radius: 3px,
  item-icons-badge-width: 20px,
  context-menu-selectable-max-width: 100%,

  border-color: #dcdce5,
  item-primary-color: #35383d,
  item-bg-hover: #f7f7f7,
  item-border: #dcdce5,

);

// Merge settings and defaults
$c-multi-select-group: map-merge($c-multi-select-group, getSettingsMap("c-multi-select-group"));

// Set shortcuts
$c-map: $c-multi-select-group;

// Component
.c-multi-select-group {
  position: relative;
  display: inline-block;
  border-radius: map-get($c-map, border-radius);
}

.c-multi-select-group__container {
  list-style: none;

  @include t--clearfix();

  &>li {
    &+li {
      margin-left: -1px;
    }
  }
}

.c-multi-select-group__item {
  position: relative;
  z-index: 0;
  float: left;
  text-align: center;
  border-width: 1px;
  border-style: solid;

  width: map-get($c-map, width);
  height: map-get($c-map, height);
  border-color: map-get($c-map, border-color);
  
  a {
    display: block;
    width: 100%;
    padding-top: 11px;
    padding-bottom: 7px;
    text-decoration: none;
    &:hover {
      cursor: pointer;
    }
  }

  &--name {
    display: block;
    font-size: 11px;
    text-align: center;

    color: map-get($c-map, item-primary-color);
  }

  &:first-child {
    border-top-left-radius: map-get($c-map, border-radius);
    border-bottom-left-radius: map-get($c-map, border-radius);
  }

  &:last-child {
    border-top-right-radius: map-get($c-map, border-radius);
    border-bottom-right-radius: map-get($c-map, border-radius);
  }

  &:hover {
    z-index: 2;
    cursor: pointer;
    background-color: map-get($c-map, item-bg-hover);
    border-color: map-get($c-map, item-primary-color);
  }

}

.c-multi-select-group__item--selected {
  z-index: 1;
  background-color: map-get($c-map, item-bg-hover);
  border-color: map-get($c-map, item-primary-color);
}

.c-multi-select-group__item--other {
  .c-context-menu-selectable {
    display: none;
    position: absolute;
    right: 0;
    top: 0;
    z-index: 4;
    max-width: map-get($c-map, context-menu-selectable-max-width);
  }
}

.c-multi-select-group__item--other--selected {
  position: static;
  .c-context-menu-selectable {
    display: block;
  }
}

.c-multi-select-group__item--other--selected-icon {
  background-color: map-get($c-map, item-bg-hover);
}

.c-multi-select-group__item--other--selected-badge {
  background-color: map-get($c-map, item-bg-hover);

  .c-multi-select-group__item__icon {
    background-color: map-get($c-map, item-primary-color);
    border-radius: map-get($c-map, item-icons-badge-width);
    font-size: 11px;
    color:#fff;
    padding-top: 2px;
    padding-left: 2px;
    margin-bottom: 7px;
    margin-top: 2px;
    text-align: center;
    line-height: normal;

    @include ffamily('bold');
    @include t--size(map-get($c-map, item-icons-badge-width));
  }
}

.c-multi-select-group__item__icon {
  display: inline-block;
  color: map-get($c-map, item-primary-color);
}

.c-multi-select-group--wide {
  display: block;
  width: 100%;

  .c-multi-select-group__item {
    width: 160px;
  }
}

.c-multi-select-group--times {
  .c-multi-select-group__item {
    height: 30px;
    
    a {
      padding-top: 6px;
      padding-bottom: 0px;
    }
  }

  .c-multi-select-group__item--name {
    @include ffamily('semi');

    i {
      position: relative;
      font-size: 24px;
    }
  }

  .c-multi-select-group__item__icon {
    // position: absolute;
    // top: 50%;
    // left: 50%;
    // @include t--translate(-50%, -50%);
  }

  .c-multi-select-group__item--other {
    a {
      padding-top: 3px;
    }
  }

  .c-promise-icon, .c-promise-icon__before {
    width: 100%;
  }

  .c-promise-icon__spinner {
    top: -2px;
    left:50%;
    @include t--translateX(-50%);
  }
}

$c-map: null;
$c-multi-select-group: null;